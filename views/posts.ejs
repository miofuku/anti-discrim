<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="浏览在德国生活的真实故事和经历分享。了解他人如何应对文化差异、语言障碍等挑战，获取有价值的经验和建议。">
    <meta name="keywords" content="德国生活故事,海外经历,文化差异,生活分享,华人经历">
    <title>故事分享 | CounterWind 逆风</title>
    <% if (posts && posts.length === 1) { %>
        <link rel="canonical" href="https://www.counterwind.de/posts?id=<%= posts[0]._id %>" />
    <% } else { %>
        <link rel="canonical" href="https://www.counterwind.de/posts" />
    <% } %>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body data-page="posts" data-tags='<%- JSON.stringify(content.form.tags) %>'>
    <%- include('partials/navigation', { currentPath: path }) %>

    <main>
        <h1 class="page-title"><%= content.posts.title %></h1>
        <p class="page-intro"><%= content.posts.description %></p>
        
        <div id="filterContainer">
            <div id="selectedTags"></div>
            <div id="availableTags">
                <% const tags = content.form.tags; %>
                <% if (Array.isArray(tags)) { %>
                    <% tags.forEach(tag => { %>
                        <button class="filter-btn" data-tag="<%= typeof tag === 'object' ? tag.value : tag %>">
                            <%= typeof tag === 'object' ? tag.label : tag %>
                        </button>
                    <% }); %>
                <% } else if (typeof tags === 'object') { %>
                    <% Object.entries(tags).forEach(([value, label]) => { %>
                        <button class="filter-btn" data-tag="<%= value %>"><%= label %></button>
                    <% }); %>
                <% } %>
            </div>
        </div>

        <section id="posts-section">
            <div id="posts-container" class="posts-grid"></div>
            <% if (posts && posts.length === 1) { %>
                <article class="post">
                    <!-- ... detailed post content ... -->
                </article>
            <% } else { %>
                <div class="pagination"></div>
            <% } %>
        </section>
    </main>

    <%- include('partials/footer') %>

    <script src="/js/main.js"></script>
</body>
</html>