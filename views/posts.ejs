<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body data-page="posts" data-tags='<%- JSON.stringify(content.form.tags) %>'>
    <%- include('partials/navigation', { currentPath: path }) %>

    <main>
        <h1 class="page-title"><%= content.posts.title %></h1>
        <p class="page-intro"><%= content.posts.description %></p>
        
        <div id="filterContainer">
            <div id="selectedTags"></div>
            <div id="availableTags">
                <% const tags = content.form.tags; %>
                <% if (Array.isArray(tags)) { %>
                    <% tags.forEach(tag => { %>
                        <button class="filter-btn" data-tag="<%= typeof tag === 'object' ? tag.value : tag %>">
                            <%= typeof tag === 'object' ? tag.label : tag %>
                        </button>
                    <% }); %>
                <% } else if (typeof tags === 'object') { %>
                    <% Object.entries(tags).forEach(([value, label]) => { %>
                        <button class="filter-btn" data-tag="<%= value %>"><%= label %></button>
                    <% }); %>
                <% } %>
            </div>
        </div>

        <section id="posts-section">
            <div id="posts-container" class="posts-grid"></div>
            <div class="pagination"></div>
        </section>
    </main>

    <%- include('partials/footer') %>

    <script src="/js/main.js"></script>
</body>
</html>